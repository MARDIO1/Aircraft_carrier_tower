# 航模地面站控制系统

这是一个用于航模控制的Python地面站应用程序，通过UART串口与航模进行通信。

## 功能特性

- **串口通信**: 支持UART串口通信，波特率115200
- **自定义协议**: 实现地面站与航模之间的通信协议
- **GUI界面**: 简洁的图形用户界面，显示接收数据，可编辑发送数据
- **输入控制**: 支持键盘输入控制
- **可配置**: COM端口可手动配置

## 通信协议

### 地面站发送数据
- 帧头: 0xAA
- 帧尾: 0xBB
- 数据: float油门 + float[4]舵面角度

### 航模发送数据
- 帧头: 0xCC
- 帧尾: 0xDD
- 数据: int[1]自定义数据

## 项目结构

```
src/
├── main.py          # 主程序入口
├── initial.py       # 串口初始化模块
├── protocol.py      # 通信协议处理
├── playerInput.py   # 输入捕获模块
└── GUI.py          # 图形用户界面
```

## 安装依赖

使用uv包管理器安装依赖：

```bash
uv venv
.venv\Scripts\Activate.ps1
uv pip install pyserial pynput
```

## 使用方法

1. 连接航模到计算机的COM端口
2. 运行主程序：
   ```bash
   .venv\Scripts\python.exe src/main.py
   ```
3. 在GUI界面中选择正确的COM端口并连接
4. 使用滑块调整油门和舵面角度
5. 点击"发送数据"按钮发送控制指令

## 控制说明

- **油门**: 0.0-1.0，控制发动机推力
- **舵面**: -1.0到1.0，控制4个舵面角度
  - 滚转: 控制飞机左右倾斜
  - 俯仰: 控制飞机上下俯仰
  - 偏航: 控制飞机左右转向
  - 襟翼: 控制升力特性

## 测试

运行测试脚本来验证协议功能：
```bash
python test_protocol.py
```

## 注意事项

- 确保COM端口正确配置
- 波特率设置为115200
- 通信协议为8N1
- 不需要CRC校验
